/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { isStateOperator } from './utils';
/**
 * @template T
 * @param {?} patchObject
 * @return {?}
 */
export function patch(patchObject) {
    return (/** @type {?} */ (((/** @type {?} */ ((/**
     * @param {?} existing
     * @return {?}
     */
    function patchStateOperator(existing) {
        /** @type {?} */
        var clone = null;
        for (var k in patchObject) {
            /** @type {?} */
            var newValue = patchObject[k];
            /** @type {?} */
            var existingPropValue = existing[(/** @type {?} */ (k))];
            /** @type {?} */
            var newPropValue = isStateOperator(newValue)
                ? newValue((/** @type {?} */ (existingPropValue)))
                : newValue;
            if (newPropValue !== existingPropValue) {
                if (!clone) {
                    clone = tslib_1.__assign({}, ((/** @type {?} */ (existing))));
                }
                clone[k] = newPropValue;
            }
        }
        return clone || existing;
    }))))));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF0Y2guanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Abmd4cy9zdG9yZS9vcGVyYXRvcnMvIiwic291cmNlcyI6WyJwYXRjaC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUNBLE9BQU8sRUFBRSxlQUFlLEVBQVcsTUFBTSxTQUFTLENBQUM7Ozs7OztBQVFuRCxNQUFNLFVBQVUsS0FBSyxDQUFJLFdBQWtDO0lBQ3pELE9BQU8sbUJBQUEsQ0FBQzs7OztJQUFBLFNBQVMsa0JBQWtCLENBQUMsUUFBa0M7O1lBQ2hFLEtBQUssR0FBRyxJQUFJO1FBQ2hCLEtBQUssSUFBTSxDQUFDLElBQUksV0FBVyxFQUFFOztnQkFDckIsUUFBUSxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUM7O2dCQUN6QixpQkFBaUIsR0FBRyxRQUFRLENBQUMsbUJBQUEsQ0FBQyxFQUE0QixDQUFDOztnQkFDM0QsWUFBWSxHQUFHLGVBQWUsQ0FBQyxRQUFRLENBQUM7Z0JBQzVDLENBQUMsQ0FBQyxRQUFRLENBQUMsbUJBQUssaUJBQWlCLEVBQUEsQ0FBQztnQkFDbEMsQ0FBQyxDQUFDLFFBQVE7WUFDWixJQUFJLFlBQVksS0FBSyxpQkFBaUIsRUFBRTtnQkFDdEMsSUFBSSxDQUFDLEtBQUssRUFBRTtvQkFDVixLQUFLLHdCQUFRLENBQUMsbUJBQUssUUFBUSxFQUFBLENBQUMsQ0FBRSxDQUFDO2lCQUNoQztnQkFDRCxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDO2FBQ3pCO1NBQ0Y7UUFDRCxPQUFPLEtBQUssSUFBSSxRQUFRLENBQUM7SUFDM0IsQ0FBQyxHQUFXLENBQUMsRUFBaUMsQ0FBQztBQUNqRCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RhdGVPcGVyYXRvciB9IGZyb20gJ0BuZ3hzL3N0b3JlJztcbmltcG9ydCB7IGlzU3RhdGVPcGVyYXRvciwgTm9JbmZlciB9IGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgdHlwZSBQYXRjaFNwZWM8VD4gPSB7IFtQIGluIGtleW9mIFRdPzogVFtQXSB8IFN0YXRlT3BlcmF0b3I8Tm9uTnVsbGFibGU8VFtQXT4+IH07XG5cbnR5cGUgUGF0Y2hWYWx1ZXM8VD4gPSB7XG4gIHJlYWRvbmx5IFtQIGluIGtleW9mIFRdPzogVFtQXSBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gaW5mZXIgUiA/IFIgOiBUW1BdO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoPFQ+KHBhdGNoT2JqZWN0OiBOb0luZmVyPFBhdGNoU3BlYzxUPj4pOiBTdGF0ZU9wZXJhdG9yPE5vbk51bGxhYmxlPFQ+PiB7XG4gIHJldHVybiAoZnVuY3Rpb24gcGF0Y2hTdGF0ZU9wZXJhdG9yKGV4aXN0aW5nOiBSZWFkb25seTxQYXRjaFZhbHVlczxUPj4pOiBOb25OdWxsYWJsZTxUPiB7XG4gICAgbGV0IGNsb25lID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGsgaW4gcGF0Y2hPYmplY3QpIHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gcGF0Y2hPYmplY3Rba107XG4gICAgICBjb25zdCBleGlzdGluZ1Byb3BWYWx1ZSA9IGV4aXN0aW5nW2sgYXMgRXh0cmFjdDxrZXlvZiBULCBzdHJpbmc+XTtcbiAgICAgIGNvbnN0IG5ld1Byb3BWYWx1ZSA9IGlzU3RhdGVPcGVyYXRvcihuZXdWYWx1ZSlcbiAgICAgICAgPyBuZXdWYWx1ZSg8YW55PmV4aXN0aW5nUHJvcFZhbHVlKVxuICAgICAgICA6IG5ld1ZhbHVlO1xuICAgICAgaWYgKG5ld1Byb3BWYWx1ZSAhPT0gZXhpc3RpbmdQcm9wVmFsdWUpIHtcbiAgICAgICAgaWYgKCFjbG9uZSkge1xuICAgICAgICAgIGNsb25lID0geyAuLi4oPGFueT5leGlzdGluZykgfTtcbiAgICAgICAgfVxuICAgICAgICBjbG9uZVtrXSA9IG5ld1Byb3BWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsb25lIHx8IGV4aXN0aW5nO1xuICB9IGFzIHVua25vd24pIGFzIFN0YXRlT3BlcmF0b3I8Tm9uTnVsbGFibGU8VD4+O1xufVxuIl19