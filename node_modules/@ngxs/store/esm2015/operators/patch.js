/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { isStateOperator } from './utils';
/**
 * @template T
 * @param {?} patchObject
 * @return {?}
 */
export function patch(patchObject) {
    return (/** @type {?} */ (((/** @type {?} */ ((/**
     * @param {?} existing
     * @return {?}
     */
    function patchStateOperator(existing) {
        /** @type {?} */
        let clone = null;
        for (const k in patchObject) {
            /** @type {?} */
            const newValue = patchObject[k];
            /** @type {?} */
            const existingPropValue = existing[(/** @type {?} */ (k))];
            /** @type {?} */
            const newPropValue = isStateOperator(newValue)
                ? newValue((/** @type {?} */ (existingPropValue)))
                : newValue;
            if (newPropValue !== existingPropValue) {
                if (!clone) {
                    clone = Object.assign({}, ((/** @type {?} */ (existing))));
                }
                clone[k] = newPropValue;
            }
        }
        return clone || existing;
    }))))));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF0Y2guanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Abmd4cy9zdG9yZS9vcGVyYXRvcnMvIiwic291cmNlcyI6WyJwYXRjaC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsT0FBTyxFQUFFLGVBQWUsRUFBVyxNQUFNLFNBQVMsQ0FBQzs7Ozs7O0FBUW5ELE1BQU0sVUFBVSxLQUFLLENBQUksV0FBa0M7SUFDekQsT0FBTyxtQkFBQSxDQUFDOzs7O0lBQUEsU0FBUyxrQkFBa0IsQ0FBQyxRQUFrQzs7WUFDaEUsS0FBSyxHQUFHLElBQUk7UUFDaEIsS0FBSyxNQUFNLENBQUMsSUFBSSxXQUFXLEVBQUU7O2tCQUNyQixRQUFRLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQzs7a0JBQ3pCLGlCQUFpQixHQUFHLFFBQVEsQ0FBQyxtQkFBQSxDQUFDLEVBQTRCLENBQUM7O2tCQUMzRCxZQUFZLEdBQUcsZUFBZSxDQUFDLFFBQVEsQ0FBQztnQkFDNUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxtQkFBSyxpQkFBaUIsRUFBQSxDQUFDO2dCQUNsQyxDQUFDLENBQUMsUUFBUTtZQUNaLElBQUksWUFBWSxLQUFLLGlCQUFpQixFQUFFO2dCQUN0QyxJQUFJLENBQUMsS0FBSyxFQUFFO29CQUNWLEtBQUsscUJBQVEsQ0FBQyxtQkFBSyxRQUFRLEVBQUEsQ0FBQyxDQUFFLENBQUM7aUJBQ2hDO2dCQUNELEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxZQUFZLENBQUM7YUFDekI7U0FDRjtRQUNELE9BQU8sS0FBSyxJQUFJLFFBQVEsQ0FBQztJQUMzQixDQUFDLEdBQVcsQ0FBQyxFQUFpQyxDQUFDO0FBQ2pELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdGF0ZU9wZXJhdG9yIH0gZnJvbSAnQG5neHMvc3RvcmUnO1xuaW1wb3J0IHsgaXNTdGF0ZU9wZXJhdG9yLCBOb0luZmVyIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCB0eXBlIFBhdGNoU3BlYzxUPiA9IHsgW1AgaW4ga2V5b2YgVF0/OiBUW1BdIHwgU3RhdGVPcGVyYXRvcjxOb25OdWxsYWJsZTxUW1BdPj4gfTtcblxudHlwZSBQYXRjaFZhbHVlczxUPiA9IHtcbiAgcmVhZG9ubHkgW1AgaW4ga2V5b2YgVF0/OiBUW1BdIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBpbmZlciBSID8gUiA6IFRbUF07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2g8VD4ocGF0Y2hPYmplY3Q6IE5vSW5mZXI8UGF0Y2hTcGVjPFQ+Pik6IFN0YXRlT3BlcmF0b3I8Tm9uTnVsbGFibGU8VD4+IHtcbiAgcmV0dXJuIChmdW5jdGlvbiBwYXRjaFN0YXRlT3BlcmF0b3IoZXhpc3Rpbmc6IFJlYWRvbmx5PFBhdGNoVmFsdWVzPFQ+Pik6IE5vbk51bGxhYmxlPFQ+IHtcbiAgICBsZXQgY2xvbmUgPSBudWxsO1xuICAgIGZvciAoY29uc3QgayBpbiBwYXRjaE9iamVjdCkge1xuICAgICAgY29uc3QgbmV3VmFsdWUgPSBwYXRjaE9iamVjdFtrXTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nUHJvcFZhbHVlID0gZXhpc3RpbmdbayBhcyBFeHRyYWN0PGtleW9mIFQsIHN0cmluZz5dO1xuICAgICAgY29uc3QgbmV3UHJvcFZhbHVlID0gaXNTdGF0ZU9wZXJhdG9yKG5ld1ZhbHVlKVxuICAgICAgICA/IG5ld1ZhbHVlKDxhbnk+ZXhpc3RpbmdQcm9wVmFsdWUpXG4gICAgICAgIDogbmV3VmFsdWU7XG4gICAgICBpZiAobmV3UHJvcFZhbHVlICE9PSBleGlzdGluZ1Byb3BWYWx1ZSkge1xuICAgICAgICBpZiAoIWNsb25lKSB7XG4gICAgICAgICAgY2xvbmUgPSB7IC4uLig8YW55PmV4aXN0aW5nKSB9O1xuICAgICAgICB9XG4gICAgICAgIGNsb25lW2tdID0gbmV3UHJvcFZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xvbmUgfHwgZXhpc3Rpbmc7XG4gIH0gYXMgdW5rbm93bikgYXMgU3RhdGVPcGVyYXRvcjxOb25OdWxsYWJsZTxUPj47XG59XG4iXX0=